<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Content Manager ‚Ä¢ 1CoastMedia</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <style>
    body { font-family: 'Inter', sans-serif; }
    [x-cloak] { display: none !important; }
    .content-editor { min-height: 100px; }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-800 text-gray-100" x-data="contentManager()" x-init="init()">
  <!-- Login Form -->
  <div x-show="!isLoggedIn" class="min-h-screen flex items-center justify-center">
    <div class="max-w-md w-full mx-4">
      <div class="bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg p-8 shadow-xl">
        <div class="text-center mb-8">
          <h1 class="text-3xl font-bold text-white mb-2">1CoastMedia Content Manager</h1>
          <p class="text-gray-300">Sign in to manage your site content</p>
        </div>
        
        <form @submit.prevent="login" class="space-y-6">
          <div>
            <label for="username" class="block text-sm font-medium text-gray-300 mb-2">Username</label>
            <input 
              type="text" 
              id="username" 
              x-model="loginForm.username"
              class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="Enter username"
              required
            >
          </div>
          
          <div>
            <label for="password" class="block text-sm font-medium text-gray-300 mb-2">Password</label>
            <input 
              type="password" 
              id="password" 
              x-model="loginForm.password"
              class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="Enter password"
              required
            >
          </div>
          
          <div x-show="loginError" class="text-red-400 text-sm text-center bg-red-900/20 p-3 rounded-lg" x-text="loginError"></div>
          
          <button 
            type="submit" 
            class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"
            :disabled="isLoggingIn"
          >
            <span x-show="!isLoggingIn">Sign In</span>
            <span x-show="isLoggingIn">Signing In...</span>
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- Content Manager (shown after login) -->
  <div x-show="isLoggedIn" x-cloak>
    <header class="fixed top-0 inset-x-0 z-40 bg-white/10 backdrop-blur-md border-b border-white/20 p-4">
      <div class="max-w-7xl mx-auto flex justify-between items-center">
        <h1 class="text-xl font-bold">1CoastMedia Content Manager</h1>
        <div class="flex items-center space-x-4">
          <span class="text-sm text-gray-400">Welcome, <span x-text="currentUser"></span></span>
          <button 
            @click="logout" 
            class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors"
          >
            Sign Out
          </button>
        </div>
      </div>
    </header>

    <!-- Spacer below fixed header -->
    <div class="pt-20"></div>

    <main class="max-w-7xl mx-auto p-4 space-y-8">
      <!-- Save Status -->
      <div x-show="saveStatus" class="p-4 rounded-lg" :class="saveStatus.type === 'success' ? 'bg-green-900/20 text-green-400' : 'bg-red-900/20 text-red-400'">
        <span x-text="saveStatus.message"></span>
      </div>

      <!-- Navigation Tabs -->
      <div class="flex space-x-1 bg-white/10 rounded-lg p-1">
        <button 
          @click="switchTab('mainPage')" 
          class="px-4 py-2 rounded-md transition-colors"
          :class="activeTab === 'mainPage' ? 'bg-blue-600 text-white' : 'text-gray-300 hover:text-white'"
        >
          Main Page
        </button>
        <button 
          @click="switchTab('growthMachine')" 
          class="px-4 py-2 rounded-md transition-colors"
          :class="activeTab === 'growthMachine' ? 'bg-blue-600 text-white' : 'text-gray-300 hover:text-white'"
        >
          Growth Machine
        </button>
        <button 
          @click="switchTab('navigation')" 
          class="px-4 py-2 rounded-md transition-colors"
          :class="activeTab === 'navigation' ? 'bg-blue-600 text-white' : 'text-gray-300 hover:text-white'"
        >
          Navigation
        </button>
        <button 
          @click="switchTab('adminServices')" 
          class="px-4 py-2 rounded-md transition-colors"
          :class="activeTab === 'adminServices' ? 'bg-blue-600 text-white' : 'text-gray-300 hover:text-white'"
        >
          ‚öôÔ∏è Admin Services
        </button>
        <button 
          @click="switchTab('analytics')" 
          class="px-4 py-2 rounded-md transition-colors"
          :class="activeTab === 'analytics' ? 'bg-blue-600 text-white' : 'text-gray-300 hover:text-white'"
        >
          üìä Analytics
        </button>
      </div>

      <!-- Main Page Content Editor -->
      <div x-show="activeTab === 'mainPage'" class="space-y-6">
        <div class="bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg p-6">
          <h2 class="text-2xl font-bold mb-6">Main Page Content</h2>
          
          <!-- Hero Section -->
          <div class="space-y-4 mb-8">
            <h3 class="text-xl font-semibold text-blue-300">Hero Section</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Title</label>
                <input x-model="content.mainPage.hero.title" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Subtitle</label>
                <input x-model="content.mainPage.hero.subtitle" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Description</label>
              <textarea x-model="content.mainPage.hero.description" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 content-editor"></textarea>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">CTA Button Text</label>
                <input x-model="content.mainPage.hero.ctaButton" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">CTA Button Link</label>
                <input x-model="content.mainPage.hero.ctaLink" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Growth Machine Button Text</label>
                <input x-model="content.mainPage.hero.growthMachineButton" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Growth Machine Button Link</label>
                <input x-model="content.mainPage.hero.growthMachineLink" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
            </div>
          </div>

          <!-- Growth Machine Highlight Section -->
          <div class="space-y-4 mb-8">
            <h3 class="text-xl font-semibold text-blue-300">Growth Machine Highlight</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Title</label>
                <input x-model="content.mainPage.growthMachineHighlight.title" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Subtitle</label>
                <input x-model="content.mainPage.growthMachineHighlight.subtitle" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Description</label>
              <textarea x-model="content.mainPage.growthMachineHighlight.description" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 content-editor"></textarea>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">CTA Button Text</label>
                <input x-model="content.mainPage.growthMachineHighlight.ctaButton" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">CTA Button Link</label>
                <input x-model="content.mainPage.growthMachineHighlight.ctaLink" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Growth Machine Content Editor -->
      <div x-show="activeTab === 'growthMachine'" class="space-y-6">
        <div class="bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg p-6">
          <h2 class="text-2xl font-bold mb-6">Growth Machine Content</h2>
          
          <!-- Hero Section -->
          <div class="space-y-4 mb-8">
            <h3 class="text-xl font-semibold text-blue-300">Hero Section</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Title</label>
                <input x-model="content.growthMachine.hero.title" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Subtitle</label>
                <input x-model="content.growthMachine.hero.subtitle" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Description</label>
              <textarea x-model="content.growthMachine.hero.description" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 content-editor"></textarea>
            </div>
          </div>

          <!-- Packages -->
          <div class="space-y-6 mb-8">
            <h3 class="text-xl font-semibold text-blue-300">Packages</h3>
            
            <template x-for="(package, key) in content.growthMachine.packages" :key="key">
              <div class="border border-white/20 rounded-lg p-4 bg-white/5">
                <h4 class="text-lg font-semibold mb-4" x-text="package.name"></h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Name</label>
                    <input x-model="package.name" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Price</label>
                    <input x-model.number="package.price" type="number" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  </div>
                </div>
                <div class="mt-4">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Description</label>
                  <input x-model="package.description" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div class="mt-4">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Features (one per line)</label>
                  <textarea x-model="package.features.join('\n')" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 content-editor" rows="6"></textarea>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">CTA Button Text</label>
                    <input x-model="package.ctaButton" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Secondary CTA Text</label>
                    <input x-model="package.ctaSecondary" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  </div>
                </div>
              </div>
            </template>
          </div>

          <!-- Why Choose Section -->
          <div class="space-y-4 mb-8">
            <h3 class="text-xl font-semibold text-blue-300">Why Choose Section</h3>
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Title</label>
              <input x-model="content.growthMachine.whyChoose.title" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Description</label>
              <textarea x-model="content.growthMachine.whyChoose.description" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 content-editor"></textarea>
            </div>
            
            <div class="space-y-4">
              <h4 class="text-lg font-semibold">Benefits</h4>
              <template x-for="(benefit, index) in content.growthMachine.whyChoose.benefits" :key="index">
                <div class="border border-white/20 rounded-lg p-4 bg-white/5">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-300 mb-2">Title</label>
                      <input x-model="benefit.title" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                  </div>
                  <div class="mt-4">
                    <label class="block text-sm font-medium text-gray-300 mb-2">Description</label>
                    <textarea x-model="benefit.description" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 content-editor"></textarea>
                  </div>
                </div>
              </template>
            </div>
          </div>

          <!-- Testimonials -->
          <div class="space-y-4 mb-8">
            <h3 class="text-xl font-semibold text-blue-300">Testimonials</h3>
            <template x-for="(testimonial, index) in content.growthMachine.testimonials" :key="index">
              <div class="border border-white/20 rounded-lg p-4 bg-white/5">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Quote</label>
                    <textarea x-model="testimonial.quote" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 content-editor"></textarea>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Author</label>
                    <input x-model="testimonial.author" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  </div>
                </div>
              </div>
            </template>
          </div>

          <!-- Final CTA -->
          <div class="space-y-4">
            <h3 class="text-xl font-semibold text-blue-300">Final CTA Section</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Title</label>
                <input x-model="content.growthMachine.finalCta.title" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Button Text</label>
                <input x-model="content.growthMachine.finalCta.buttonText" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Description</label>
              <textarea x-model="content.growthMachine.finalCta.description" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 content-editor"></textarea>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Button Link</label>
              <input x-model="content.growthMachine.finalCta.buttonLink" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
          </div>
        </div>
      </div>

      <!-- Navigation Editor -->
      <div x-show="activeTab === 'navigation'" class="space-y-6">
        <div class="bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg p-6">
          <h2 class="text-2xl font-bold mb-6">Navigation & Links</h2>
          
          <!-- Main Menu -->
          <div class="space-y-4 mb-8">
            <h3 class="text-xl font-semibold text-blue-300">Main Menu</h3>
            <template x-for="(item, index) in content.navigation.mainMenu" :key="index">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-300 mb-2">Text</label>
                  <input x-model="item.text" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-300 mb-2">Link</label>
                  <input x-model="item.link" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
              </div>
            </template>
          </div>

          <!-- Footer Links -->
          <div class="space-y-4">
            <h3 class="text-xl font-semibold text-blue-300">Footer Links</h3>
            <template x-for="(item, index) in content.navigation.footerLinks" :key="index">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-300 mb-2">Text</label>
                  <input x-model="item.text" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-300 mb-2">Link</label>
                  <input x-model="item.link" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
              </div>
            </template>
          </div>
        </div>
      </div>

      <!-- Admin Services Tab -->
      <div x-show="activeTab === 'adminServices'" class="space-y-6">
        <div class="bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg p-6">
          <h2 class="text-2xl font-bold mb-6">‚öôÔ∏è Admin Services Management</h2>
          
          <!-- Service Categories -->
          <div class="space-y-6 mb-8">
            <h3 class="text-xl font-semibold text-blue-300">Service Categories</h3>
            
            <template x-for="(category, categoryKey) in services.serviceCategories" :key="categoryKey">
              <div class="bg-white/5 border border-white/20 rounded-lg p-4">
                <div class="flex items-center justify-between mb-4">
                  <h4 class="text-lg font-semibold text-white" x-text="category.name"></h4>
                  <button 
                    @click="deleteServiceCategory(categoryKey)"
                    class="bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors text-sm"
                  >
                    üóëÔ∏è Delete
                  </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Category Name</label>
                    <input x-model="category.name" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Category Description</label>
                    <input x-model="category.description" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  </div>
                </div>
                
                <!-- Services in this category -->
                <div class="space-y-3">
                  <h5 class="text-md font-medium text-gray-300">Services</h5>
                  <template x-for="(service, serviceIndex) in category.services" :key="serviceIndex">
                    <div class="bg-white/10 border border-white/20 rounded-lg p-3">
                      <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-3">
                        <div>
                          <label class="block text-sm font-medium text-gray-300 mb-1">Service Name</label>
                          <input x-model="service.name" class="w-full px-2 py-1 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                        </div>
                        <div>
                          <label class="block text-sm font-medium text-gray-300 mb-1">Price</label>
                          <input x-model="service.price" type="number" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                        </div>
                        <div>
                          <label class="block text-sm font-medium text-gray-300 mb-1">Description</label>
                          <input x-model="service.description" class="w-full px-2 py-1 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                        </div>
                      </div>
                      <div class="flex justify-between items-center">
                        <button 
                          @click="deleteService(categoryKey, serviceIndex)"
                          class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors text-xs"
                        >
                          üóëÔ∏è Delete Service
                        </button>
                        <button 
                          @click="addServiceToCategory(categoryKey)"
                          class="bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-xs"
                        >
                          ‚ûï Add Service
                        </button>
                      </div>
                    </div>
                  </template>
                  
                  <button 
                    @click="addServiceToCategory(categoryKey)"
                    class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"
                  >
                    ‚ûï Add New Service to Category
                  </button>
                </div>
              </div>
            </template>
            
            <!-- Add New Category -->
            <div class="bg-white/5 border border-white/20 rounded-lg p-4">
              <h4 class="text-lg font-semibold text-white mb-4">‚ûï Add New Service Category</h4>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-medium text-gray-300 mb-2">Category Name</label>
                  <input x-model="newCategory.name" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-300 mb-2">Category Description</label>
                  <input x-model="newCategory.description" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
              </div>
              <button 
                @click="addServiceCategory"
                class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors"
              >
                ‚ûï Add New Category
              </button>
            </div>
          </div>
          
          <!-- Add-ons -->
          <div class="space-y-4">
            <h3 class="text-xl font-semibold text-blue-300">Add-ons</h3>
            
            <template x-for="(addon, addonIndex) in services.addons" :key="addonIndex">
              <div class="bg-white/5 border border-white/20 rounded-lg p-3">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
                  <div>
                    <label class="block text-sm font-medium text-gray-300 mb-1">Add-on Name</label>
                    <input x-model="addon.name" class="w-full px-2 py-1 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-300 mb-1">Price</label>
                    <input x-model="addon.price" type="number" class="w-full px-2 py-1 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-300 mb-1">Description</label>
                  <input x-model="addon.description" class="w-full px-2 py-1 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                </div>
                <div class="flex justify-between items-center mt-3">
                  <button 
                    @click="deleteAddon(addonIndex)"
                    class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors text-xs"
                  >
                    üóëÔ∏è Delete Add-on
                  </button>
                </div>
              </div>
            </template>
            
            <!-- Add New Add-on -->
            <div class="bg-white/5 border border-white/20 rounded-lg p-3">
              <h4 class="text-lg font-semibold text-white mb-3">‚ûï Add New Add-on</h4>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
                <div>
                  <label class="block text-sm font-medium text-gray-300 mb-1">Add-on Name</label>
                  <input x-model="newAddon.name" class="w-full px-2 py-1 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-300 mb-1">Price</label>
                  <input x-model="newAddon.price" type="number" class="w-full px-2 py-1 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                </div>
              </div>
              <div class="mb-3">
                <label class="block text-sm font-medium text-gray-300 mb-1">Description</label>
                <input x-model="newAddon.description" class="w-full px-2 py-1 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
              </div>
              <button 
                @click="addAddon"
                class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors"
              >
                ‚ûï Add New Add-on
              </button>
            </div>
          </div>
          
          <!-- Save Services Button -->
          <div class="flex justify-center mt-8">
            <button 
              @click="saveServices" 
              class="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-lg font-semibold"
            >
              üíæ Save All Services
            </button>
          </div>
        </div>
      </div>

      <!-- Analytics Dashboard -->
      <div x-show="activeTab === 'analytics'" class="space-y-6">
        <div class="bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg p-6">
          <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold">üìä Google Analytics Dashboard</h2>
            <button 
              @click="testGA4Connection"
              class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors"
            >
              üß™ Test GA4 Connection
            </button>
          </div>
          
          <!-- Real-time Stats -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
            <div class="bg-white/10 border border-white/20 rounded-lg p-4 text-center">
              <div class="text-2xl font-bold text-blue-400" x-text="analytics.realtime?.activeUsers || '‚Äî'"></div>
              <div class="text-sm text-gray-300">Active Users</div>
            </div>
            <div class="bg-white/10 border border-white/20 rounded-lg p-4 text-center">
              <div class="text-2xl font-bold text-green-400" x-text="analytics.realtime?.pageViews || '‚Äî'"></div>
              <div class="text-sm text-gray-300">Page Views</div>
            </div>
            <div class="bg-white/10 border border-white/20 rounded-lg p-4 text-center">
              <div class="text-2xl font-bold text-purple-400" x-text="analytics.realtime?.sessions || '‚Äî'"></div>
              <div class="text-sm text-gray-300">Sessions</div>
            </div>
          </div>

          <!-- Summary Stats -->
          <div class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-8">
            <div class="bg-white/10 border border-white/20 rounded-lg p-4 text-center">
              <div class="text-xl font-bold text-blue-400" x-text="analytics.summary?.totalUsers || '‚Äî'"></div>
              <div class="text-xs text-gray-300">Total Users (28d)</div>
            </div>
            <div class="bg-white/10 border border-white/20 rounded-lg p-4 text-center">
              <div class="text-xl font-bold text-green-400" x-text="analytics.summary?.totalSessions || '‚Äî'"></div>
              <div class="text-xs text-gray-300">Total Sessions</div>
            </div>
            <div class="bg-white/10 border border-white/20 rounded-lg p-4 text-center">
              <div class="text-xl font-bold text-purple-400" x-text="analytics.summary?.totalPageViews || '‚Äî'"></div>
              <div class="text-xs text-gray-300">Page Views</div>
            </div>
            <div class="bg-white/10 border border-white/20 rounded-lg p-4 text-center">
              <div class="text-xl font-bold text-yellow-400" x-text="analytics.summary?.bounceRate ? analytics.summary.bounceRate + '%' : '‚Äî'"></div>
              <div class="text-xs text-gray-300">Bounce Rate</div>
            </div>
            <div class="bg-white/10 border border-white/20 rounded-lg p-4 text-center">
              <div class="text-xl font-bold text-pink-400" x-text="analytics.summary?.avgSessionDuration ? Math.round(analytics.summary.avgSessionDuration / 60) + 'm' : '‚Äî'"></div>
              <div class="text-xs text-gray-300">Avg Session</div>
            </div>
          </div>

          <!-- Date Range Selector -->
          <div class="bg-white/10 border border-white/20 rounded-lg p-4 mb-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold">üìÖ Date Range</h3>
              <div class="flex space-x-2">
                <button 
                  @click="setDateRange('today')" 
                  class="px-3 py-1 rounded-md text-sm transition-colors"
                  :class="dateRange === 'today' ? 'bg-blue-600 text-white' : 'bg-white/10 text-gray-300 hover:bg-white/20'"
                >
                  Today
                </button>
                <button 
                  @click="setDateRange('week')" 
                  class="px-3 py-1 rounded-md text-sm transition-colors"
                  :class="dateRange === 'week' ? 'bg-blue-600 text-white' : 'bg-white/10 text-gray-300 hover:bg-white/20'"
                >
                  This Week
                </button>
                <button 
                  @click="setDateRange('month')" 
                  class="px-3 py-1 rounded-md text-sm transition-colors"
                  :class="dateRange === 'month' ? 'bg-blue-600 text-white' : 'bg-white/10 text-gray-300 hover:bg-white/20'"
                >
                  This Month
                </button>
                <button 
                  @click="setDateRange('28days')" 
                  class="px-3 py-1 rounded-md text-sm transition-colors"
                  :class="dateRange === '28days' ? 'bg-blue-600 text-white' : 'bg-white/10 text-gray-300 hover:bg-white/20'"
                >
                  Last 28 Days
                </button>
              </div>
            </div>
            <div class="text-sm text-gray-400">
              <span x-text="getDateRangeText()"></span>
            </div>
          </div>

          <!-- Traffic Overview -->
          <div class="bg-white/10 border border-white/20 rounded-lg p-6 mb-6">
            <h3 class="text-lg font-semibold mb-4">üìà Traffic Overview</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="text-center p-4 bg-white/5 rounded-lg">
                <div class="text-2xl font-bold text-blue-400" x-text="analytics.summary?.totalUsers || '‚Äî'"></div>
                <div class="text-sm text-gray-400">Total Users</div>
              </div>
              <div class="text-center p-4 bg-white/5 rounded-lg">
                <div class="text-2xl font-bold text-green-400" x-text="analytics.summary?.totalSessions || '‚Äî'"></div>
                <div class="text-sm text-gray-400">Total Sessions</div>
              </div>
              <div class="text-center p-4 bg-white/5 rounded-lg">
                <div class="text-2xl font-bold text-purple-400" x-text="analytics.summary?.totalPageViews || '‚Äî'"></div>
                <div class="text-sm text-gray-400">Page Views</div>
              </div>
            </div>
          </div>

          <!-- Top Pages & Sources -->
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- Top Pages -->
            <div class="bg-white/10 border border-white/20 rounded-lg p-4">
              <h3 class="text-lg font-semibold mb-4">üî• Top Pages</h3>
              <div class="space-y-3">
                <template x-for="(page, index) in analytics.summary?.topPages || []" :key="index">
                  <div class="flex items-center justify-between p-3 bg-white/5 rounded-lg">
                    <div class="flex items-center space-x-3">
                      <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm font-bold" x-text="index + 1"></div>
                      <div>
                        <div class="font-medium text-white" x-text="page.path"></div>
                        <div class="text-xs text-gray-400">Page</div>
                      </div>
                    </div>
                    <div class="text-right">
                      <div class="text-lg font-bold text-blue-400" x-text="page.views"></div>
                      <div class="text-xs text-gray-400">Views</div>
                    </div>
                  </div>
                </template>
              </div>
            </div>

            <!-- Top Traffic Sources -->
            <div class="bg-white/10 border border-white/20 rounded-lg p-4">
              <h3 class="text-lg font-semibold mb-4">üåê Traffic Sources</h3>
              <div class="space-y-3">
                <template x-for="(source, index) in analytics.summary?.topSources || []" :key="index">
                  <div class="flex items-center justify-between p-3 bg-white/5 rounded-lg">
                    <div class="flex items-center space-x-3">
                      <div class="w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white text-sm font-bold" x-text="index + 1"></div>
                      <div>
                        <div class="font-medium text-white" x-text="source.source"></div>
                        <div class="text-xs text-gray-400">Source</div>
                      </div>
                    </div>
                    <div class="text-right">
                      <div class="text-lg font-bold text-green-400" x-text="source.sessions"></div>
                      <div class="text-xs text-gray-400">Sessions</div>
                    </div>
                  </div>
                </template>
              </div>
            </div>
          </div>

          <!-- Traffic Sources -->
          <div class="bg-white/10 border border-white/20 rounded-lg p-4">
            <h3 class="text-lg font-semibold mb-4">Traffic Sources</h3>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
              <template x-for="(source, index) in analytics.summary?.topSources || []" :key="index">
                <div class="text-center">
                  <div class="text-lg font-bold text-blue-400" x-text="source.sessions"></div>
                  <div class="text-sm text-gray-300" x-text="source.source"></div>
                </div>
              </template>
            </div>
          </div>

          <!-- Refresh Button -->
          <div class="flex justify-center mt-6">
            <button 
              @click="refreshAnalytics" 
              class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"
              :disabled="isRefreshingAnalytics"
            >
              <span x-show="!isRefreshingAnalytics">üîÑ Refresh Analytics</span>
              <span x-show="isRefreshingAnalytics">Refreshing...</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Save Button -->
      <div class="flex justify-center">
        <button 
          @click="saveContent" 
          class="bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors text-lg font-semibold"
          :disabled="isSaving"
        >
          <span x-show="!isSaving">üíæ Save All Changes</span>
          <span x-show="isSaving">Saving...</span>
        </button>
      </div>
      
      <!-- Add Category Modal -->
      <div x-show="showAddCategoryModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="bg-gray-800 border border-white/20 rounded-lg p-6 w-full max-w-md">
          <h3 class="text-xl font-bold mb-4">‚ûï Add New Service Category</h3>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Category Name</label>
              <input x-model="newCategory.name" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Category Description</label>
              <input x-model="newCategory.description" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
          </div>
          <div class="flex gap-3 mt-6">
            <button 
              @click="showAddCategoryModal = false"
              class="flex-1 bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors"
            >
              Cancel
            </button>
            <button 
              @click="addServiceCategory(); showAddCategoryModal = false"
              class="flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"
            >
              Add Category
            </button>
          </div>
        </div>
      </div>
      
      <!-- Add Add-on Modal -->
      <div x-show="showAddAddonModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="bg-gray-800 border border-white/20 rounded-lg p-6 w-full max-w-md">
          <h3 class="text-xl font-bold mb-4">‚ûï Add New Add-on</h3>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Add-on Name</label>
              <input x-model="newAddon.name" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Price ($)</label>
              <input x-model="newAddon.price" type="number" min="0" step="0.01" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Description</label>
              <input x-model="newAddon.description" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
          </div>
          <div class="flex gap-3 mt-6">
            <button 
              @click="showAddAddonModal = false"
              class="flex-1 bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors"
            >
              Cancel
            </button>
            <button 
              @click="addAddon(); showAddAddonModal = false"
              class="flex-1 bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors"
            >
              Add Add-on
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Google Analytics tag for GA4 (Gtag) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-K54J9FPE7N"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-K54J9FPE7N');
  </script>
  
  <script src="./admin-content.js"></script>
</body>
</html>
